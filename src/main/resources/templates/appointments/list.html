<!DOCTYPE html>
<html lang="en" th:replace="~{shared/_layout::layout('Appointments', '', ~{::div#appointments}, '', ~{::ol.breadcrumb})}">
<body>

<!-- Breadcrumb -->
<ol class="breadcrumb">
    <li class="breadcrumb-item"><a th:href="@{/}">Home</a></li>
    <li class="breadcrumb-item active">Appointments</li>
</ol>

<!-- Appointments Section -->
<div id="appointments">
    <h2 class="mb-4 text-center">Appointments List</h2>

    <!-- Card for Appointments Table -->
    <div class="card">
        <div class="card-header">
            <h5 class="card-title">Appointments</h5>
        </div>
        <div class="card-body">
            <table class="table table-bordered table-striped table-hover">
                <thead>
                <tr>
                    <th scope="col">Appointment ID</th>
                    <th scope="col">Patient Name</th>
                    <th scope="col">Doctor Name</th>
                    <th scope="col">Appointment Date</th>
                    <th scope="col">Status</th>
                    <th scope="col" class="text-center">Actions</th>
                </tr>
                </thead>
                <tbody>
                <!-- Loop through appointments -->
                <tr th:each="appointment : ${appointments}">
                    <td th:text="${appointment.id}"></td>
                    <td th:text="${appointment.patient.firstName} + ' ' + ${appointment.patient.lastName}"></td>
                    <td th:text="${appointment.doctor.firstName} + ' ' + ${appointment.doctor.lastName}"></td>
                    <td th:text="${appointment.date}"></td>
                    <td th:text="${appointment.status}"></td>
                    <td class="text-center">
                        <!-- Action buttons -->
                        <a th:href="@{/appointments/edit/{id}(id=${appointment.id})}" class="btn btn-warning btn-sm">
                            <i class="bi bi-pencil-square"></i> Edit
                        </a>
                        <a th:href="@{/appointments/delete/{id}(id=${appointment.id})}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this appointment?');">
                            <i class="bi bi-trash"></i> Delete
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Create Appointment Button -->
    <div class="text-center mt-4">
        <a href="/appointments/create" class="btn btn-primary btn-lg">
            <i class="bi bi-calendar-plus"></i> Create New Appointment
        </a>
    </div>

</div>

</body>
</html>
